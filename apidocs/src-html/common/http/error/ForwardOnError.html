<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Source code</title>
<link rel="stylesheet" type="text/css" href="../../../../javadocstyle.css" title="Style">
</head>
<body>
<main role="main">
<div class="sourceContainer">
<pre><span class="sourceLineNo">001</span><a id="line.1">package common.http.error;</a>
<span class="sourceLineNo">002</span><a id="line.2"></a>
<span class="sourceLineNo">003</span><a id="line.3">import java.lang.annotation.ElementType;</a>
<span class="sourceLineNo">004</span><a id="line.4">import java.lang.annotation.Retention;</a>
<span class="sourceLineNo">005</span><a id="line.5">import java.lang.annotation.RetentionPolicy;</a>
<span class="sourceLineNo">006</span><a id="line.6">import java.lang.annotation.Target;</a>
<span class="sourceLineNo">007</span><a id="line.7"></a>
<span class="sourceLineNo">008</span><a id="line.8">/**</a>
<span class="sourceLineNo">009</span><a id="line.9"> * &lt;p&gt;L'annotazione consente di impostare in modo dichiarativo il percorso su cui una servlet effettua</a>
<span class="sourceLineNo">010</span><a id="line.10"> * il dispatch in caso di errore.&lt;/p&gt;</a>
<span class="sourceLineNo">011</span><a id="line.11"> * &lt;p&gt;Affinché funzioni, è necessario che la servlet su cui applicare l'annotazione estenda {@link common.http.interceptor.InterceptableServlet}&lt;/p&gt;</a>
<span class="sourceLineNo">012</span><a id="line.12"> * &lt;p&gt;È possibile applicare l'annotazione ai singoli metodi "doX" implementati (es. doGet). Applicare l'annotazione</a>
<span class="sourceLineNo">013</span><a id="line.13"> * direttamente alla classe equivale ad applicarla su tutti i metodi "doX" implementati.&lt;/p&gt;</a>
<span class="sourceLineNo">014</span><a id="line.14"> * &lt;p&gt;Quando un metodo "doX" annotato con {@link ForwardOnError} lancia una particolare eccezione</a>
<span class="sourceLineNo">015</span><a id="line.15"> * (elencate in basso), si verificano le seguenti azioni: &lt;/p&gt;</a>
<span class="sourceLineNo">016</span><a id="line.16"> * &lt;ul&gt;</a>
<span class="sourceLineNo">017</span><a id="line.17"> *     &lt;li&gt;Viene catturata l'eccezione allo scopo di recuperare i messaggi di errore rilevanti</a>
<span class="sourceLineNo">018</span><a id="line.18"> *     per inserirli nell'attributo di richiesta &lt;pre&gt;errors&lt;/pre&gt;&lt;/li&gt;</a>
<span class="sourceLineNo">019</span><a id="line.19"> *     &lt;li&gt;Viene impostato lo status code 400 BAD REQUEST&lt;/li&gt;</a>
<span class="sourceLineNo">020</span><a id="line.20"> *     &lt;li&gt;Viene passato il controllo (mediante metodo &lt;pre&gt;forward&lt;/pre&gt; alla servlet al percorso specificato)&lt;/li&gt;</a>
<span class="sourceLineNo">021</span><a id="line.21"> * &lt;/ul&gt;</a>
<span class="sourceLineNo">022</span><a id="line.22"> * &lt;p&gt;Le eccezioni catturate sono le seguenti:  &lt;/p&gt;</a>
<span class="sourceLineNo">023</span><a id="line.23"> * &lt;table&gt;</a>
<span class="sourceLineNo">024</span><a id="line.24"> *     &lt;tr&gt;</a>
<span class="sourceLineNo">025</span><a id="line.25"> *         &lt;td&gt;Eccezione&lt;/td&gt;&lt;td&gt;Messaggi di errore&lt;/td&gt;</a>
<span class="sourceLineNo">026</span><a id="line.26"> *     &lt;/tr&gt;</a>
<span class="sourceLineNo">027</span><a id="line.27"> *     &lt;tr&gt;</a>
<span class="sourceLineNo">028</span><a id="line.28"> *         &lt;td&gt;{@link javax.validation.ConstraintViolationException}&lt;/td&gt;&lt;td&gt;I messaggi degli oggetti {@link javax.validation.ConstraintViolation}&lt;/td&gt;</a>
<span class="sourceLineNo">029</span><a id="line.29"> *     &lt;/tr&gt;</a>
<span class="sourceLineNo">030</span><a id="line.30"> *     &lt;tr&gt;</a>
<span class="sourceLineNo">031</span><a id="line.31"> *         &lt;td&gt;{@link IllegalArgumentException}&lt;/td&gt;&lt;td&gt;{@link IllegalArgumentException#getMessage()}&lt;/td&gt;</a>
<span class="sourceLineNo">032</span><a id="line.32"> *     &lt;/tr&gt;</a>
<span class="sourceLineNo">033</span><a id="line.33"> * &lt;/table&gt;</a>
<span class="sourceLineNo">034</span><a id="line.34"> * @see ForwardOnErrorInterceptor</a>
<span class="sourceLineNo">035</span><a id="line.35"> * @see common.http.interceptor.InterceptableServlet</a>
<span class="sourceLineNo">036</span><a id="line.36"> * @see common.http.interceptor.ServletInterceptor</a>
<span class="sourceLineNo">037</span><a id="line.37"> */</a>
<span class="sourceLineNo">038</span><a id="line.38">@Target({ElementType.METHOD,ElementType.TYPE})</a>
<span class="sourceLineNo">039</span><a id="line.39">@Retention(RetentionPolicy.RUNTIME)</a>
<span class="sourceLineNo">040</span><a id="line.40">public @interface ForwardOnError {</a>
<span class="sourceLineNo">041</span><a id="line.41">    /**</a>
<span class="sourceLineNo">042</span><a id="line.42">     * @return L'URL pattern dove effettuare il forward della richiesta</a>
<span class="sourceLineNo">043</span><a id="line.43">     */</a>
<span class="sourceLineNo">044</span><a id="line.44">    String value();</a>
<span class="sourceLineNo">045</span><a id="line.45">}</a>




























































</pre>
</div>
</main>
</body>
</html>
